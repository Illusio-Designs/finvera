# Railway Environment Variables Template
# Copy these to your Railway dashboard: Settings > Variables

# ============================================
# RAILWAY AUTO-PROVIDED (Don't set manually)
# ============================================
# Railway automatically provides these when you add MySQL plugin:
# MYSQLHOST=containers-us-west-xxx.railway.app
# MYSQLPORT=3306
# MYSQLUSER=root
# MYSQLPASSWORD=xxxxx
# MYSQLDATABASE=railway
# MYSQL_URL=mysql://root:xxxxx@containers-us-west-xxx.railway.app:3306/railway

# ============================================
# REQUIRED - Set these in Railway dashboard
# ============================================

# Node Environment
NODE_ENV=production

# Server Configuration
PORT=3000
HOST=0.0.0.0

# Database Configuration (use Railway's MySQL variables)
# Railway provides MYSQL_URL, but we need individual vars too
DB_HOST=${{MYSQLHOST}}
DB_PORT=${{MYSQLPORT}}
DB_USER=${{MYSQLUSER}}
DB_PASSWORD=${{MYSQLPASSWORD}}
DB_NAME=finvera_db
MASTER_DB_NAME=finvera_master

# JWT Secret (IMPORTANT: Generate a strong secret!)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# Encryption Key (IMPORTANT: Generate a strong key!)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-encryption-key-for-tenant-passwords-change-this

# Redis Configuration (Optional - add Redis plugin in Railway)
REDIS_ENABLED=true
REDIS_HOST=${{REDIS.REDIS_HOST}}
REDIS_PORT=${{REDIS.REDIS_PORT}}
REDIS_PASSWORD=${{REDIS.REDIS_PASSWORD}}

# ============================================
# OPTIONAL - Configure as needed
# ============================================

# Tenant Connection Pool
MAX_TENANT_CONNECTIONS=30

# CORS Configuration
CORS_ORIGIN=https://your-frontend-domain.com,https://www.your-frontend-domain.com
MAIN_DOMAIN=your-domain.com

# Frontend URLs
FRONTEND_URL=https://your-frontend-domain.com
NEXT_PUBLIC_MAIN_DOMAIN=your-domain.com

# File Upload
MAX_FILE_SIZE=10485760

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# Session Configuration
SESSION_SECRET=your-session-secret-change-this

# Email Configuration (if using email features)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@your-domain.com

# Razorpay Configuration (for payments)
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret
RAZORPAY_WEBHOOK_SECRET=your_webhook_secret

# GST API Configuration (Sandbox)
SANDBOX_API_BASE_URL=https://api.sandbox.co.in
SANDBOX_API_KEY=your_sandbox_api_key

# E-Invoice Configuration
IRP_BASE_URL=https://gsp.adaequare.com
IRP_CLIENT_ID=your_irp_client_id
IRP_CLIENT_SECRET=your_irp_client_secret
IRP_GSTIN=your_gstin
IRP_USERNAME=your_username
IRP_PASSWORD=your_password

# E-Way Bill Configuration
EWAY_BASE_URL=https://api.mastergst.com/ewaybillapi/v1.03
EWAY_USERNAME=your_eway_username
EWAY_PASSWORD=your_eway_password
EWAY_CLIENT_ID=your_eway_client_id
EWAY_CLIENT_SECRET=your_eway_client_secret

# Finbox Configuration (if using)
FINBOX_API_KEY=your_finbox_api_key
FINBOX_API_SECRET=your_finbox_api_secret

# Logging
LOG_LEVEL=info

# ============================================
# RAILWAY-SPECIFIC SETTINGS
# ============================================

# Use Railway's provided MySQL URL
# Railway automatically sets MYSQL_URL, we just reference it
DATABASE_URL=${{MYSQL_URL}}

# Disable separate DB users (use Railway's root user)
USE_SEPARATE_DB_USERS=false

# ============================================
# NOTES FOR DEPLOYMENT
# ============================================
# 1. Generate strong secrets for JWT_SECRET and ENCRYPTION_KEY
# 2. Add MySQL plugin in Railway dashboard
# 3. Add Redis plugin in Railway dashboard (optional but recommended)
# 4. Set CORS_ORIGIN to your actual frontend domain
# 5. Configure payment gateway credentials (Razorpay)
# 6. Configure GST API credentials if using e-invoice/e-way bill
# 7. Update MAIN_DOMAIN and FRONTEND_URL to your actual domains
